(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b18db8a"],{"08aa":function(t,e,i){"use strict";i.r(e);i("99af"),i("9911");var n=i("7a23"),s={class:"wrap"},r={class:"contents"},o={class:"txt-wrap"},c={class:"txt-caption"},l={key:0,class:"info-list"},a={class:"info-title"},d={class:"info-text"},u=["onClick"],h=["src","alt"],f={key:0,class:"video-wrap"},v=["src"];function m(t,e,i,m,b,p){var g,D,O,w,j,S,k,y=this,x=Object(n["z"])("page-title"),C=Object(n["z"])("image-slider");return Object(n["s"])(),Object(n["e"])("div",s,[Object(n["h"])(x,{title:null===(g=p.itemData)||void 0===g?void 0:g.title},null,8,["title"]),Object(n["f"])("div",r,[Object(n["f"])("div",o,[Object(n["f"])("h2",c,Object(n["B"])(null===(D=p.itemData)||void 0===D?void 0:D.caption),1),"archive"===this.$route.params.works?(Object(n["s"])(),Object(n["e"])("div",l,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(null===(O=p.itemData)||void 0===O?void 0:O.info,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{key:e,class:"info-item"},[Object(n["f"])("span",a,Object(n["B"])(t.title),1),Object(n["f"])("span",d,Object(n["B"])(t.text),1)])})),128))])):Object(n["d"])("",!0)]),Object(n["h"])(C,{"onClose:slider":p.onClickCloseBtn,"show-slider":this.showSlider,"img-list":null===(w=p.itemData)||void 0===w?void 0:w.imgs,ref:"slider-component"},null,8,["onClose:slider","show-slider","img-list"]),Object(n["f"])("div",{class:Object(n["n"])([{"is-disable":this.showSlider},"img-list"])},[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(null===(j=p.itemData)||void 0===j?void 0:j.imgs,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{onClick:function(t){return p.onClickThumbnail(e)},key:e,class:"img-item"},[Object(n["f"])("img",{src:"/"+t,alt:"".concat(y.$route.params.id," img ").concat(e+1)},null,8,h)],8,u)})),128))],2),null!==(S=p.itemData)&&void 0!==S&&S.link?(Object(n["s"])(),Object(n["e"])("div",f,[Object(n["f"])("iframe",{width:"100%",height:"100%",src:null===(k=p.itemData)||void 0===k?void 0:k.link,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,v)])):Object(n["d"])("",!0)])])}i("7db0"),i("d3b7");var b=i("89dd"),p=function(t){return Object(n["v"])("data-v-6d03bc6d"),t=t(),Object(n["t"])(),t},g={class:"slide-toolbar"},D={class:"slide-counter"},O={class:"slide-inner"},w=["src","alt"],j=p((function(){return Object(n["f"])("div",{class:"slide-dim"},null,-1)}));function S(t,e,i,s,r,o){var c=this;return Object(n["s"])(),Object(n["e"])("div",{class:Object(n["n"])([{"is-show":i.showSlider},"image-slider"]),style:Object(n["o"])({opacity:r.sliderOpacity}),ref:"image-slider"},[Object(n["f"])("div",g,[Object(n["f"])("div",D,[Object(n["f"])("span",null,Object(n["B"])(r.currentIndex)+" / "+Object(n["B"])(o.maxIndex),1)]),Object(n["f"])("button",{onClick:e[0]||(e[0]=function(){return o.onClickCloseBtn&&o.onClickCloseBtn.apply(o,arguments)}),class:"slide-close-btn"},"âœ•")]),Object(n["f"])("div",O,[Object(n["f"])("button",{onClick:e[1]||(e[1]=function(){return o.onClickPrevBtn&&o.onClickPrevBtn.apply(o,arguments)}),class:Object(n["n"])([{"is-disable":1===this.currentIndex},"slide-btn slide-prev-btn"])},"<",2),Object(n["f"])("button",{onClick:e[2]||(e[2]=function(){return o.onClickNextBtn&&o.onClickNextBtn.apply(o,arguments)}),class:Object(n["n"])([{"is-disable":this.currentIndex===this.maxIndex},"slide-btn slide-next-btn"])},">",2),Object(n["f"])("div",{onDragstart:e[3]||(e[3]=function(t){return o.onDragStartSlider(t)}),onDragover:e[4]||(e[4]=function(t){return o.onDragSlider(t)}),onDragend:e[5]||(e[5]=function(t){return o.onDropSlider(t)}),class:Object(n["n"])([{"is-drag":r.isDrag},"slide-contents"]),style:Object(n["o"])("transform: translateX(".concat(o.slideTranslatePosition,"px)")),ref:"slide-contents"},[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(i.imgList,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{key:e,class:"slide-img-wrapper"},[Object(n["f"])("img",{src:"/"+t,alt:c.$route.params.id+" image "+(e+1)},null,8,w)])})),128))],38)]),j],6)}var k={name:"ImageSlider",props:{showSlider:Boolean,imgList:Array},computed:{slideTranslatePosition:function(){return(this.currentIndex-1)*-document.body.clientWidth},maxIndex:function(){var t;return null===(t=this.imgList)||void 0===t?void 0:t.length},isTouchDevice:function(){return navigator.maxTouchPoints||"ontouchstart"in document.documentElement}},mounted:function(){var t=this;window.addEventListener("keydown",(function(e){return t.onKeydownSlide(e)})),window.addEventListener("resize",this.moveSliderPosition),this.isTouchDevice&&(this.$refs["image-slider"].addEventListener("touchstart",this.onSwipeStartSlider),this.$refs["image-slider"].addEventListener("touchmove",this.onHandleSwipeDirect),this.$refs["image-slider"].addEventListener("touchmove",this.onSwipeSlider),this.$refs["image-slider"].addEventListener("touchend",this.onDropSlider))},beforeUnmount:function(){var t=this;window.removeEventListener("keydown",(function(e){return t.onKeydownSlide(e)})),window.removeEventListener("resize",this.moveSliderPosition),this.isTouchDevice&&(this.$refs["image-slider"].removeEventListener("touchstart",this.onSwipeStartSlider),this.$refs["image-slider"].removeEventListener("touchmove",this.onHandleSwipeDirect),this.$refs["image-slider"].removeEventListener("touchmove",this.onSwipeSlider),this.$refs["image-slider"].removeEventListener("touchend",this.onDropSlider))},data:function(){return{currentIndex:1,isDrag:!1,startDragPointX:null,startDragPointY:null,currentDragPointX:null,currentDragPointY:null,swipeDirection:null,sliderOpacity:0}},methods:{onClickCloseBtn:function(){this.sliderOpacity=0,this.$emit("close:slider")},onClickDimArea:function(t){console.log(t)},onClickPrevBtn:function(){this.currentIndex>1&&this.currentIndex--,this.moveSliderPosition()},onClickNextBtn:function(){this.currentIndex<this.maxIndex&&this.currentIndex++,this.moveSliderPosition()},moveSliderPosition:function(){var t;this.$refs["slide-contents"].style.transform="translateX(".concat((this.currentIndex-1)*-(null===(t=this.$refs["slide-contents"])||void 0===t?void 0:t.clientWidth),"px)"),this.$refs["slide-contents"].style.transitionDuration="300ms"},onDragStartSlider:function(t){this.startDragPointX=t.clientX,this.isDrag=!0,this.swipeDirection="horizontal"},onDragSlider:function(t){var e;if(this.isDrag){var i=t.clientX,n=i-this.startDragPointX,s=(this.currentIndex-1)*-(null===(e=this.$refs["slide-contents"])||void 0===e?void 0:e.clientWidth);this.$refs["slide-contents"].style.transform="translateX(".concat(n+s,"px)"),this.$refs["slide-contents"].style.transitionDuration="0ms"}},onSwipeStartSlider:function(t){this.startDragPointX=t.touches[0].clientX,this.startDragPointY=t.touches[0].clientY,this.isDrag=!0},onHandleSwipeDirect:function(t){if(!this.swipeDirection){var e=t.touches[0].clientX,i=t.touches[0].clientY,n=e-this.startDragPointX,s=i-this.startDragPointY;Math.abs(n)>5?this.swipeDirection="horizontal":s>5&&(this.swipeDirection="vertical")}},onSwipeSlider:function(t){if("horizontal"===this.swipeDirection){var e,i=t.touches[0].clientX,n=i-this.startDragPointX,s=(this.currentIndex-1)*-(null===(e=this.$refs["slide-contents"])||void 0===e?void 0:e.clientWidth);this.$refs["slide-contents"].style.transform="translateX(".concat(n+s,"px)"),this.$refs["slide-contents"].style.transitionDuration="0ms"}else if("vertical"===this.swipeDirection){var r=t.touches[0].clientY,o=r-this.startDragPointY;this.sliderOpacity=1.03-.003*o}},onDropSlider:function(t){"horizontal"===this.swipeDirection?(this.onCheckHorizontalMove(t),this.moveSliderPosition(),this.$refs["slide-contents"].style.transitionDuration="300ms"):"vertical"===this.swipeDirection&&this.onHandleSliderClose(this.onCheckVerticalMove(t)),this.resetSwipeDirection()},onCheckHorizontalMove:function(t){var e;if(this.isTouchDevice){if(e=t.changedTouches[0].clientX,Math.abs(this.startDragPointX-e)<10&&"slide-img-wrapper"===t.target.getAttribute("class"))return setTimeout(this.onTouchDimArea,10),void this.moveSliderPosition()}else e=t.clientX;this.isDrag=!1,this.startDragPointX>e+50&&this.currentIndex<this.maxIndex?this.currentIndex++:this.startDragPointX<e-50&&this.currentIndex>1&&this.currentIndex--},onCheckVerticalMove:function(t){if(this.isTouchDevice){var e=t.changedTouches[0].clientY;return e-this.startDragPointY>30}},onTouchDimArea:function(){this.$emit("close:slider")},onHandleSliderClose:function(t){t?(this.$emit("close:slider"),this.sliderOpacity=0):this.sliderOpacity=1},resetSwipeDirection:function(){this.swipeDirection=null},onKeydownSlide:function(t){var e=t.which||t.key;27===e?this.onClickCloseBtn():37===e?this.onClickPrevBtn():39===e&&this.onClickNextBtn()}}},y=(i("3c6c"),i("6b0d")),x=i.n(y);const C=x()(k,[["render",S],["__scopeId","data-v-6d03bc6d"]]);var P=C,$={name:"Detail",components:{ImageSlider:P,PageTitle:b["a"]},computed:{itemData:function(){var t=this;return this.$store.state.worksList.find((function(e){return e.id===t.$route.params.id}))}},mounted:function(){this.$store.dispatch("loadWorksList")},data:function(){return{showSlider:!1}},methods:{onClickThumbnail:function(t){this.showSlider||(this.$refs["slider-component"].currentIndex=t+1,this.$refs["slider-component"].sliderOpacity=1,this.showSlider=!0,document.body.classList.add("show-slider"))},onClickCloseBtn:function(){this.showSlider=!1,document.body.classList.remove("show-slider")}}};i("f8c7");const I=x()($,[["render",m],["__scopeId","data-v-711b5fe1"]]);e["default"]=I},2997:function(t,e,i){},"3c6c":function(t,e,i){"use strict";i("2997")},"7bce":function(t,e,i){},"7db0":function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").find,r=i("44d2"),o="find",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},"857a":function(t,e,i){var n=i("e330"),s=i("1d80"),r=i("577e"),o=/"/g,c=n("".replace);t.exports=function(t,e,i,n){var l=r(s(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+c(r(n),o,"&quot;")+'"'),a+">"+l+"</"+e+">"}},9911:function(t,e,i){"use strict";var n=i("23e7"),s=i("857a"),r=i("af03");n({target:"String",proto:!0,forced:r("link")},{link:function(t){return s(this,"a","href",t)}})},af03:function(t,e,i){var n=i("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},f8c7:function(t,e,i){"use strict";i("7bce")}}]);
//# sourceMappingURL=chunk-5b18db8a.9b052aa2.js.map